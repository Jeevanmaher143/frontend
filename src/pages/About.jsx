import React, { useEffect, useState } from "react";
import "./About.css";

const API =
  process.env.REACT_APP_API_URL ||
  "https://backend-9i6n.onrender.com";

const About = () => {
  const [village, setVillage] = useState(null);

  useEffect(() => {
    window.scrollTo(0,0);
    fetch(`${API}/api/village`)
      .then((res) => res.json())
      .then((data) => setVillage(data))
      .catch((err) => {
        console.error("рдЧрд╛рд╡рд╛рдЪреА рдорд╛рд╣рд┐рддреА рдорд┐рд│рд╡рдгреНрдпрд╛рдд рдЕрдбрдЪрдг рдЖрд▓реА", err);
      });
  }, []);

  if (!village) {
    return <p className="loading">рдЧрд╛рд╡рд╛рдЪреА рдорд╛рд╣рд┐рддреА рд▓реЛрдб рд╣реЛрдд рдЖрд╣реЗ...</p>;
  }

  return (
    <div className="about-page">
      {/* HEADER */}
      <div className="about-header">
        <h1>{village.name} рдпреЗрдереЗ рдЖрдкрд▓реЗ рд╕реНрд╡рд╛рдЧрдд рдЖрд╣реЗ</h1>
        <p className="slogan">
          рд╕реНрд╡рдЪреНрдЫ рдЧрд╛рд╡ тАв рд╕рд╢рдХреНрдд рд╕рдорд╛рдЬ тАв рдЙрдЬреНрд╡рд▓ рднрд╡рд┐рд╖реНрдп
        </p>
      </div>

      {/* HISTORY */}
      <div className="about-section">
        <h2>рдЧрд╛рд╡рд╛рдЪрд╛ рдЗрддрд┐рд╣рд╛рд╕</h2>
        <p className="history">{village.history}</p>
      </div>

      {/* STATISTICS */}
      <div className="about-section">
        <h2>рдЧрд╛рд╡рд╛рдЪреА рд╕рд╛рдВрдЦреНрдпрд┐рдХреА рдорд╛рд╣рд┐рддреА</h2>
        <div className="stats">
          <div className="stat-card">
            <span className="stat-icon">ЁЯСе</span>
            <h3>{village.populationTotal}</h3>
            <p>рдПрдХреВрдг рд▓реЛрдХрд╕рдВрдЦреНрдпрд╛</p>
          </div>

          <div className="stat-card">
            <span className="stat-icon">ЁЯзНтАНтЩВя╕П</span>
            <h3>{village.populationMale}</h3>
            <p>рдкреБрд░реБрд╖</p>
          </div>

          <div className="stat-card">
            <span className="stat-icon">ЁЯзНтАНтЩАя╕П</span>
            <h3>{village.populationFemale}</h3>
            <p>рдорд╣рд┐рд▓рд╛</p>
          </div>

          <div className="stat-card">
            <span className="stat-icon">ЁЯМН</span>
            <h3>{village.area}</h3>
            <p>рдХреНрд╖реЗрддреНрд░рдлрд│ (рдЪреМ.рдХрд┐.рдореА.)</p>
          </div>
        </div>
      </div>

      {/* DESCRIPTION */}
      {village.description && (
        <div className="about-section">
          <h2>рдЖрдордЪреНрдпрд╛ рдЧрд╛рд╡рд╛рдмрджреНрджрд▓</h2>
          <p className="desc">{village.description}</p>
        </div>
      )}

      {/* VISION */}
      <div className="about-section vision">
        <h2>рдЖрдордЪреЗ рдзреНрдпреЗрдп</h2>
        <ul>
          <li>рдкрд╛рд░рджрд░реНрд╢рдХ рд╡ рдбрд┐рдЬрд┐рдЯрд▓ рдкреНрд░рд╢рд╛рд╕рди</li>
          <li>рд╕реНрд╡рдЪреНрдЫ рд╡ рд╣рд░рд┐рдд рдЧрд╛рд╡ рд╡рд╛рддрд╛рд╡рд░рдг</li>
          <li>рджрд░реНрдЬреЗрджрд╛рд░ рд╢рд┐рдХреНрд╖рдг рд╡ рдЖрд░реЛрдЧреНрдп рд╕реЗрд╡рд╛</li>
          <li>рд╕рд╢рдХреНрдд рдЧреНрд░рд╛рдореАрдг рд╡рд┐рдХрд╛рд╕ рд╡ рд░реЛрдЬрдЧрд╛рд░</li>
        </ul>
      </div>

      {/* FAQ SECTION */}
      <div className="about-section faq">
        
        <ul>
          <li>ЁЯЪМ рдЧрд╛рд╡рд╛рдд рдмрд╕ рд╕реЗрд╡рд╛ рдЖрд╣реЗ рдХрд╛? тАУ <b>рд╣реЛрдп, рджрд░рд░реЛрдЬ рек рд╡реЗрд│рд╛ рдмрд╕ рдпреЗрддреЗ</b></li>
         
          <li>ЁЯПе рдкреНрд░рд╛рдердорд┐рдХ рдЖрд░реЛрдЧреНрдп рдХреЗрдВрджреНрд░ рдЖрд╣реЗ рдХрд╛? тАУ <b>рд╣реЛрдп</b></li>
          <li>ЁЯУЪ рд╡рд╛рдЪрдирд╛рд▓рдп рдЙрдкрд▓рдмреНрдз рдЖрд╣реЗ рдХрд╛? тАУ <b>рд╣реЛрдп</b></li>
          <li>тЪ╜ рдЦреЗрд│рд╛рдЪреЗ рдореИрджрд╛рди рдЖрд╣реЗ рдХрд╛? тАУ <b>рд╣реЛрдп</b></li>
          <li>ЁЯПб рдкрд░реНрдпрдЯрдХрд╛рдВрд╕рд╛рдареА рд╣реЛрдо-рд╕реНрдЯреЗ рдЙрдкрд▓рдмреНрдз рдЖрд╣реЗ рдХрд╛? тАУ <b>рд╣реЛрдп</b></li>
          <li>ЁЯН╜я╕П рд╣реЙрдЯреЗрд▓ рд╡ рдирд┐рд╡рд╛рд╕ рд╡реНрдпрд╡рд╕реНрдерд╛ рдЖрд╣реЗ рдХрд╛? тАУ <b>рд╣реЛрдп</b></li>
           <li>ЁЯПж рдЧрд╛рд╡рд╛рдд рдмрдБрдХ рдЖрд╣реЗ рдХрд╛? тАУ <b>рдирд╛рд╣реА</b></li>
        </ul>
      </div>

      {/* GRAM PANCHAYAT INFO */}
      <div className="about-section">
        <h2>рдЧреНрд░рд╛рдордкрдВрдЪрд╛рдпрдд рдкреНрд░рд╛рдердорд┐рдХ рдорд╛рд╣рд┐рддреА</h2>
        <ul className="info-list">
          <li>рдЧреНрд░рд╛рдордкрдВрдЪрд╛рдпрддреАрдЪреЗ рдирд╛рд╡ : <b>рд░реЛрд╖рдгрдЦреЗрдбрд╛</b></li>
          <li>рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдкрд╛рдгреАрдкреБрд░рд╡рдард╛ рд╡рд┐рд╣рд┐рд░реА : <b>2</b></li>
          <li>рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдмреЛрдЕрд░рд╡реЗрд▓ / рд╣рд╛рддрдкрдВрдк : <b>2</b></li>
          <li>рдкрд╛рдгреНрдпрд╛рдЪреНрдпрд╛ рдЯрд╛рдХреНрдпрд╛ : <b>1</b></li>
          <li>рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╢реМрдЪрд╛рд▓рдпреЗ : <b>1</b></li>
          <li>рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХрдЪрд░рд╛рдХреБрдВрдбреНрдпрд╛ : <b>30</b></li>
          <li>рдШрдирдХрдЪрд░рд╛ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдкреНрд░рдХрд▓реНрдк : <b>2</b></li>
          <li>рд░рд╕реНрддреНрдпрд╛рд╡рд░реАрд▓ рдкрдерджрд┐рд╡реЗ : <b>172</b></li>
          <li>рдкреНрд░рд╛рдердорд┐рдХ рд╢рд╛рд│рд╛ : <b>2</b></li>
          <li>рдорд╛рдзреНрдпрдорд┐рдХ рд╢рд╛рд│рд╛ : <b>1</b></li>
          <li>рдЙрдЪреНрдЪ рдорд╛рдзреНрдпрдорд┐рдХ рд╢рд╛рд│рд╛ : <b>1</b></li>
          <li>рдЕрдВрдЧрдгрд╡рд╛рдбреА : <b>4</b></li>
          <li>рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЗрдорд╛рд░рддреА : <b>2</b></li>
          <li>рдЬрд┐рд▓реНрд╣рд╛ рдореБрдЦреНрдпрд╛рд▓рдп рдЕрдВрддрд░ : <b>60 рдХрд┐.рдореА.</b></li>
          <li>рддрд╛рд▓реБрдХрд╛ рдореБрдЦреНрдпрд╛рд▓рдп рдЕрдВрддрд░ : <b>18 рдХрд┐.рдореА.</b></li>
        </ul>
      </div>
    </div>
  );
};

export default About;

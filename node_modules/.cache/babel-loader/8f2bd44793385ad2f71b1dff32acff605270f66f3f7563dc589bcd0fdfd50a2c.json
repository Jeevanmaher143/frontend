{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\OneDrive\\\\Desktop\\\\Digital GramPanchyat\\\\frontend\\\\src\\\\admin\\\\ManageServices.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport \"./ManageServices.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = \"https://backend-9i6n.onrender.com\";\nconst ManageServices = () => {\n  _s();\n  const [applications, setApplications] = useState([]);\n  const [activeFilter, setActiveFilter] = useState(\"Pending\");\n  const token = localStorage.getItem(\"token\");\n\n  /* ================= FETCH ================= */\n  const fetchApplications = async () => {\n    try {\n      const res = await fetch(`${API}/api/admin/services`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      setApplications(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error(\"Fetch error:\", err);\n    }\n  };\n  useEffect(() => {\n    fetchApplications();\n  }, []);\n\n  /* ================= FILTER ================= */\n  const filteredApps = applications.filter(a => a.status === activeFilter);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"manage-services\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Service Applications Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-buttons\",\n      children: [\"Pending\", \"Approved\", \"Rejected\"].map(status => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `filter-btn ${activeFilter === status ? \"active\" : \"\"}`,\n        onClick: () => setActiveFilter(status),\n        children: status\n      }, status, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cards-container\",\n      children: [filteredApps.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-data\",\n        children: \"No applications found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), filteredApps.map(app => {\n        const docs = app.documents || {};\n        const docCount = Object.keys(docs).length;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"service-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 18\n            }, this), \" \", app.fullName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Service:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 18\n            }, this), \" \", app.serviceType]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Mobile:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 18\n            }, this), \" \", app.mobile]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 18\n            }, this), \" \", app.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"doc-count\",\n            children: [\"\\uD83D\\uDCC1 Documents Uploaded: \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: docCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 40\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), app.documents && Object.keys(app.documents).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"documents-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: [\"\\uD83D\\uDCC4 Uploaded Documents (\", Object.keys(app.documents).length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"documents-list\",\n              children: Object.entries(app.documents).map(([key, value], index) => /*#__PURE__*/_jsxDEV(\"a\", {\n                href: value // ‚úÖ Cloudinary URL\n                ,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"document-link\",\n                children: [\"\\uD83D\\uDCC4 \", key.replace(/([A-Z])/g, \" $1\")]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 9\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 3\n          }, this), app.adminRemark && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Admin Message:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: app.adminRemark\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this)]\n        }, app._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(ManageServices, \"TH1jUUYJyVjGtbmyS3wkhsixVfk=\");\n_c = ManageServices;\nexport default ManageServices;\nvar _c;\n$RefreshReg$(_c, \"ManageServices\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","API","ManageServices","_s","applications","setApplications","activeFilter","setActiveFilter","token","localStorage","getItem","fetchApplications","res","fetch","headers","Authorization","data","json","Array","isArray","err","console","error","filteredApps","filter","a","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","length","app","docs","documents","docCount","Object","keys","fullName","serviceType","mobile","entries","key","value","index","href","target","rel","replace","adminRemark","_id","_c","$RefreshReg$"],"sources":["C:/Users/Asus/OneDrive/Desktop/Digital GramPanchyat/frontend/src/admin/ManageServices.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./ManageServices.css\";\r\n\r\nconst API = \"https://backend-9i6n.onrender.com\";\r\n\r\nconst ManageServices = () => {\r\n  const [applications, setApplications] = useState([]);\r\n  const [activeFilter, setActiveFilter] = useState(\"Pending\");\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  /* ================= FETCH ================= */\r\n  const fetchApplications = async () => {\r\n    try {\r\n      const res = await fetch(`${API}/api/admin/services`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      const data = await res.json();\r\n      setApplications(Array.isArray(data) ? data : []);\r\n    } catch (err) {\r\n      console.error(\"Fetch error:\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchApplications();\r\n  }, []);\r\n\r\n  /* ================= FILTER ================= */\r\n  const filteredApps = applications.filter(\r\n    (a) => a.status === activeFilter\r\n  );\r\n\r\n  return (\r\n    <div className=\"manage-services\">\r\n      <h2>Service Applications Management</h2>\r\n\r\n      {/* FILTER BUTTONS */}\r\n      <div className=\"filter-buttons\">\r\n        {[\"Pending\", \"Approved\", \"Rejected\"].map((status) => (\r\n          <button\r\n            key={status}\r\n            className={`filter-btn ${\r\n              activeFilter === status ? \"active\" : \"\"\r\n            }`}\r\n            onClick={() => setActiveFilter(status)}\r\n          >\r\n            {status}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* APPLICATION LIST */}\r\n      <div className=\"cards-container\">\r\n        {filteredApps.length === 0 && (\r\n          <p className=\"no-data\">No applications found</p>\r\n        )}\r\n\r\n        {filteredApps.map((app) => {\r\n          const docs = app.documents || {};\r\n          const docCount = Object.keys(docs).length;\r\n\r\n          return (\r\n            <div className=\"service-card\" key={app._id}>\r\n              <p><b>Name:</b> {app.fullName}</p>\r\n              <p><b>Service:</b> {app.serviceType}</p>\r\n              <p><b>Mobile:</b> {app.mobile}</p>\r\n              <p><b>Status:</b> {app.status}</p>\r\n\r\n              {/* ‚úÖ DOCUMENT COUNT */}\r\n              <p className=\"doc-count\">\r\n                üìÅ Documents Uploaded: <b>{docCount}</b>\r\n              </p>\r\n\r\n              {/* ================= DOCUMENTS ================= */}\r\n{app.documents && Object.keys(app.documents).length > 0 && (\r\n  <div className=\"documents-section\">\r\n    <b>üìÑ Uploaded Documents ({Object.keys(app.documents).length})</b>\r\n\r\n    <div className=\"documents-list\">\r\n      {Object.entries(app.documents).map(([key, value], index) => (\r\n        <a\r\n          key={index}\r\n          href={value}                 // ‚úÖ Cloudinary URL\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"document-link\"\r\n        >\r\n          üìÑ {key.replace(/([A-Z])/g, \" $1\")}\r\n        </a>\r\n      ))}\r\n    </div>\r\n  </div>\r\n)}\r\n\r\n              {/* ADMIN MESSAGE */}\r\n              {app.adminRemark && (\r\n                <div className=\"admin-message\">\r\n                  <b>Admin Message:</b>\r\n                  <p>{app.adminRemark}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageServices;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}